.. _php-missingmagicisset:

.. _missing-\_\_isset()-method:

Missing __isset() Method
++++++++++++++++++++++++

  When using empty() on magic properties, the magic method `__isset() <https://www.php.net/manual/en/language.oop5.magic.php>`_ must be implemented.

.. code-block:: php
   
   <?php
   
   class foo {
       function __get($name) { return 'foo'; }
       // No __isset method
   }
   
   // Return TRUE, until __isset() exists
   var_dump(
      empty((new foo)->bar);
   );
   
   ?>

See also `When empty is not empty <https://freek.dev/1057-when-empty-is-not-empty>`_.


Suggestions
___________

* Implement __isset() method when using empty on magic properties




Specs
_____

+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Short name   | Php/MissingMagicIsset                                                                                                                                      |
+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Rulesets     | :ref:`All <ruleset-All>`, :ref:`Analyze <ruleset-Analyze>`, :ref:`Changed Behavior <ruleset-Changed-Behavior>`, :ref:`Class Review <ruleset-Class-Review>` |
+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Exakat since | 2.2.0                                                                                                                                                      |
+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PHP Version  | All                                                                                                                                                        |
+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Severity     | Minor                                                                                                                                                      |
+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Time To Fix  | Quick (30 mins)                                                                                                                                            |
+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Precision    | Medium                                                                                                                                                     |
+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Features     | magic-method, isset                                                                                                                                        |
+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Available in | `Entreprise Edition <https://www.exakat.io/entreprise-edition>`_, `Exakat Cloud <https://www.exakat.io/exakat-cloud/>`_                                    |
+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+


