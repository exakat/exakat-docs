.. _structures-strposlessthanone:

.. _strpos()-less-than-one:

Strpos() Less Than One
++++++++++++++++++++++

  This rule reports a comparison of `strpos() <https://www.php.net/strpos>`_ or `stripos() <https://www.php.net/stripos>`_ with 1. This is a variable of `strpos() <https://www.php.net/strpos>`_ == 0, since both false and 0 are processed the same way. Yet, 0 might be a valid value.

This rule was suggested by Yann Ouche.


.. code-block:: php
   
   <?php
   
   // this works both when $a starts with .
   // and when the . is not in the string.
   if (strpos($a, '.') < 1) {
   
   }
   
   ?>

Suggestions
___________

* Make sure that the 2 cases are valid business cases.




Specs
_____

+--------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| Short name   | Structures/StrposLessThanOne                                                                                                                           |
+--------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| Rulesets     | :ref:`All <ruleset-All>`, :ref:`Analyze <ruleset-Analyze>`, :ref:`Changed Behavior <ruleset-Changed-Behavior>`, :ref:`Surprising <ruleset-Surprising>` |
+--------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| Exakat since | 2.6.6                                                                                                                                                  |
+--------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| PHP Version  | All                                                                                                                                                    |
+--------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| Severity     | Minor                                                                                                                                                  |
+--------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| Time To Fix  | Quick (30 mins)                                                                                                                                        |
+--------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| Precision    | High                                                                                                                                                   |
+--------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+
| Available in | `Entreprise Edition <https://www.exakat.io/entreprise-edition>`_, `Exakat Cloud <https://www.exakat.io/exakat-cloud/>`_                                |
+--------------+--------------------------------------------------------------------------------------------------------------------------------------------------------+


